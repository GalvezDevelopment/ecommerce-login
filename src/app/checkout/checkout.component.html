<form (submit)="pay()" [formGroup]="form">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 col-sm-6">
                <mat-form-field>
                    <mat-label for="name">Name</mat-label>
                    <input type="text" name="name" matInput formControlName="name" />
                    <mat-error *ngIf="form.controls['name'].hasError('required')">Name is required.</mat-error>
                </mat-form-field>
            </div>
            <div class="col-12 col-sm-6">
                <mat-form-field>
                    <mat-label for="lastName">Last Name</mat-label>
                    <input type="text" name="lastName" matInput formControlName="lastName" />
                    <mat-error *ngIf="form.controls['lastName'].hasError('required')">Last name is required.</mat-error>
                </mat-form-field>
            </div>
            <div class="col-12">
                <mat-form-field>
                    <mat-label for="address">Address</mat-label>
                    <input type="text" name="address" matInput formControlName="address" />
                </mat-form-field>
            </div>
            <div class="col-12 text-center">
                <button type="submit" mat-flat-button *ngIf="!(isLoading$ | async); else payBtn">Pay {{ cartTotal$ | async |
                    currency }}</button>
                <ng-template #payBtn>
                    <button mat-flat-button>Waiting...</button>
                </ng-template>
            </div>
        </div>
    </div>
</form>